(window.webpackJsonp=window.webpackJsonp||[]).push([[9,4,6],{338:function(t,e,n){"use strict";(function(t){var r=n(34),o=(n(368),n(373),n(83),n(46));e.a={name:"TokenSwap",data:function(){return{fromDai:10,fromHeihkd:10}},computed:{needsToApproveFromDaiToHeihkd:function(){return parseFloat(this.$store.getters["wallet/daiAllowanceFormatted"])<this.fromDai},needsToApproveFromHeihkdToDai:function(){return parseFloat(this.$store.getters["wallet/heihkdAllowanceFormatted"])<this.fromHeihkd},canSwapFromDaiToHeihkd:function(){return this.$store.getters["heihkdToken/heihkdBalanceFormatted"]>this.toHeihkd},canSwapFromHeihkdToDai:function(){return this.$store.getters["heihkdToken/daiBalanceFormatted"]>this.toDai},sellRate:function(){return this.$store.state.heihkdToken.sellRate},buyRate:function(){return this.$store.state.heihkdToken.buyRate},toHeihkd:function(){return this.fromDai*this.buyRate},toDai:function(){return this.fromHeihkd/this.sellRate}},methods:{approve:function(e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var c,l,d,v,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=n.$store.state.heihkdToken.contract,l=n.$store.state.daiToken.contract,r.next=4,Object(o.c)();case 4:d=r.sent,v=c.connect(d),f=l.connect(d),r.prev=7,r.t0=e,r.next="toHeihkd"===r.t0?11:"toDai"===r.t0?14:17;break;case 11:return r.next=13,f.approve(t.env.heihkdContractAddress,Object(o.d)(n.$store.getters["wallet/daiBalanceFormatted"]));case 13:return r.abrupt("break",17);case 14:return r.next=16,v.approve(t.env.heihkdContractAddress,Object(o.d)(n.$store.getters["wallet/heihkdBalanceFormatted"]));case 16:return r.abrupt("break",17);case 17:r.next=21;break;case 19:r.prev=19,r.t1=r.catch(7);case 21:case"end":return r.stop()}}),r,null,[[7,19]])})))()},swap:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.$store.state.heihkdToken.contract,n.next=3,Object(o.c)();case 3:c=n.sent,l=r.connect(c),n.t0=t,n.next="toHeihkd"===n.t0?8:"toDai"===n.t0?17:26;break;case 8:return n.prev=8,n.next=11,l.swapDaiForHeihkd(Object(o.d)(e.fromDai.toString()));case 11:n.next=16;break;case 13:n.prev=13,n.t1=n.catch(8),console.error(n.t1);case 16:return n.abrupt("break",26);case 17:return n.prev=17,n.next=20,l.swapHeihkdForDai(Object(o.d)(e.fromHeihkd.toString()));case 20:n.next=25;break;case 22:n.prev=22,n.t2=n.catch(17),console.error(n.t2);case 25:return n.abrupt("break",26);case 26:case"end":return n.stop()}}),n,null,[[8,13],[17,22]])})))()}}}}).call(this,n(106))},339:function(t,e,n){var r={};r[n(335)("toStringTag")]="z",t.exports="[object z]"===String(r)},355:function(t,e,n){var content=n(376);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(84).default)("37035213",content,!0,{sourceMap:!1})},357:function(t,e,n){t.exports=n.p+"img/logo.69ccda6.svg"},368:function(t,e,n){var r=n(339),o=n(341),c=n(371);r||o(Object.prototype,"toString",c,{unsafe:!0})},371:function(t,e,n){"use strict";var r=n(339),o=n(372);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},372:function(t,e,n){var r=n(339),o=n(354),c=n(335)("toStringTag"),l="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),c))?n:l?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},373:function(t,e,n){"use strict";var r=n(341),o=n(334),c=n(330),l=n(374),d="toString",v=RegExp.prototype,f=v.toString,m=c((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),h=f.name!=d;(m||h)&&r(RegExp.prototype,d,(function(){var t=o(this),p=String(t.source),e=t.flags;return"/"+p+"/"+String(void 0===e&&t instanceof RegExp&&!("flags"in v)?l.call(t):e)}),{unsafe:!0})},374:function(t,e,n){"use strict";var r=n(334);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},375:function(t,e,n){"use strict";n(355)},376:function(t,e,n){var r=n(82)(!1);r.push([t.i,"",""]),t.exports=r},381:function(t,e,n){"use strict";n.r(e);var r=n(356),o={name:"HeihkdTokenLiquidity",computed:Object(r.a)({diaBalance:"heihkdToken/daiBalanceFormatted",heihkdBalance:"heihkdToken/heihkdBalanceFormatted"})},c=n(72),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",{staticClass:"mb-3"},[t._v("Liquidity")]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-6 mb-3 mb-sm-0"},[n("b-card",{staticClass:"text-center"},[t._v(t._s(t.diaBalance)+" DAI")])],1),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("b-card",{staticClass:"text-center"},[t._v(" "+t._s(t.heihkdBalance)+" HEIHKD")])],1)])])}),[],!1,null,null,null);e.default=component.exports},382:function(t,e,n){"use strict";n.r(e);n(384),n(392),n(395),n(396),n(397),n(398);var r=n(399),o=n(356);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={name:"NavBar",computed:l(l({},Object(o.a)({account:"wallet/accountTruncated",daiBalance:"wallet/daiBalanceFormatted",heihkdBalance:"wallet/heihkdBalanceFormatted"})),Object(o.b)({connected:"connected"})),methods:{connectWallet:function(){this.$store.dispatch("connectWallet")}}},v=n(72),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[r("b-navbar-brand",{attrs:{to:"/"}},[r("img",{staticClass:"mr-1",attrs:{src:n(357),width:"30"}}),t._v(" HEIHKD Token\n    Swap")]),t._v(" "),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),t._v(" "),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",[r("b-nav-item",{attrs:{href:"#"}})],1),t._v(" "),r("b-navbar-nav",{staticClass:"ml-auto"},[t.connected?[r("span",{staticClass:"text-white"},[t._v(t._s(t.daiBalance)+" DAI")]),t._v(" "),r("span",{staticClass:"text-white ml-sm-4"},[t._v(t._s(t.heihkdBalance)+" HEIHKD")]),t._v(" "),r("span",{staticClass:"text-white ml-sm-4"},[t._v(t._s(t.account))])]:r("b-button",{on:{click:t.connectWallet}},[t._v("Connect Wallet")])],2)],1)],1)}),[],!1,null,null,null);e.default=component.exports},383:function(t,e,n){"use strict";n.r(e);var r=n(338).a,o=(n(375),n(72)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",{staticClass:"mb-3"},[t._v("Token Swap")]),t._v(" "),n("b-card",{staticClass:"mb-4"},[n("b-form",[n("div",{staticClass:"mb-3"},[t._v("Rate: 1 DAI = "+t._s(t.buyRate)+" HEIHKD")]),t._v(" "),n("div",{staticClass:"\n          d-block d-sm-flex\n          justify-content-between\n          align-items-center\n          mb-4\n        "},[n("b-form-group",{staticClass:"w-100 mb-0"},[n("b-input-group",{attrs:{append:"DAI"}},[n("b-form-input",{attrs:{type:"number",min:"1"},model:{value:t.fromDai,callback:function(e){t.fromDai=e},expression:"fromDai"}})],1)],1),t._v(" "),n("div",{staticClass:"mx-5 text-center my-2 my-sm-0"},[t._v("To")]),t._v(" "),n("b-form-group",{staticClass:"w-100 mb-0"},[n("b-input-group",{attrs:{append:"HEIHKD"}},[n("b-form-input",{attrs:{type:"number",readonly:""},model:{value:t.toHeihkd,callback:function(e){t.toHeihkd=e},expression:"toHeihkd"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"text-center"},[t.needsToApproveFromDaiToHeihkd?n("b-button",{attrs:{variant:"dark",block:""},on:{click:function(e){return t.approve("toHeihkd")}}},[t._v("Approve")]):n("b-button",{attrs:{disabled:!t.canSwapFromDaiToHeihkd,variant:"dark",block:""},on:{click:function(e){return t.swap("toHeihkd")}}},[t._v("Swap")])],1)])],1),t._v(" "),n("b-card",[n("b-form",[n("div",{staticClass:"mb-3"},[t._v("Rate: 1 HEIHKD = "+t._s(t.sellRate)+" DAI")]),t._v(" "),n("div",{staticClass:"\n          d-block d-sm-flex\n          justify-content-between\n          align-items-center\n          mb-4\n        "},[n("b-form-group",{staticClass:"w-100 mb-0"},[n("b-input-group",{attrs:{append:"HEIHKD"}},[n("b-form-input",{attrs:{type:"number",min:"1"},model:{value:t.fromHeihkd,callback:function(e){t.fromHeihkd=e},expression:"fromHeihkd"}})],1)],1),t._v(" "),n("div",{staticClass:"mx-5 text-center my-2 my-sm-0"},[t._v("To")]),t._v(" "),n("b-form-group",{staticClass:"w-100 mb-0"},[n("b-input-group",{attrs:{append:"DAI"}},[n("b-form-input",{attrs:{type:"number",readonly:""},model:{value:t.toDai,callback:function(e){t.toDai=e},expression:"toDai"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"text-center"},[t.needsToApproveFromHeihkdToDai?n("b-button",{attrs:{variant:"dark",block:""},on:{click:function(e){return t.approve("toDai")}}},[t._v("Approve")]):n("b-button",{attrs:{disabled:!t.canSwapFromHeihkdToDai,variant:"dark",block:""},on:{click:function(e){return t.swap("toDai")}}},[t._v("Swap")])],1)])],1)],1)}),[],!1,null,null,null);e.default=component.exports},424:function(t,e,n){"use strict";n.r(e);var r=n(34),o=(n(83),n(383)),c=n(381),l=n(382),d=n(356),v={components:{NavBar:l.default,HeihkdTokenLiquidity:c.default,TokenSwap:o.default},data:function(){return{}},computed:Object(d.b)({connected:"connected"}),mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("connectWallet");case 2:case"end":return e.stop()}}),e)})))()},methods:{}},f=n(72),component=Object(f.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("NavBar"),t._v(" "),n("section",{staticClass:"container"},[t.connected?n("client-only",[n("div",{staticClass:"py-5"},[n("heihkd-token-liquidity")],1),t._v(" "),n("div",{staticClass:"pt-0 pt-sm-5 pb-5"},[n("token-swap")],1)]):t._e()],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{NavBar:n(382).default,HeihkdTokenLiquidity:n(381).default,TokenSwap:n(383).default})}}]);